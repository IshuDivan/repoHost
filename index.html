function loadCategoriesFromFile() {
    fetch('schedule.txt')
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.text();
        })
        .then(data => {
            const lines = data.split('\n');
            const currentDate = new Date();
            const weekStartDate = new Date(currentDate);
            weekStartDate.setDate(currentDate.getDate() - currentDate.getDay() + 1); // Set to Monday of the current week
            const weekEndDate = new Date(weekStartDate);
            weekEndDate.setDate(weekEndDate.getDate() + 6); // Set to Sunday of the current week

            lines.forEach(line => {
                const [day, dateString, category] = line.split(',').map(item => item.trim());
                const dayDate = new Date(dateString); // Parse the date from the file

                // Check if the dayDate is within the current week
                if (dayDate >= weekStartDate && dayDate <= weekEndDate) {
                    const scheduleDay = schedules.current[day];
                    if (scheduleDay) {
                        scheduleDay.category = category; // Update category if day matches
                    }
                }
            });
            displayWeekTimetable(); // Refresh the timetable to show updated categories
        })
        .catch(error => {
            console.error('Error loading schedule:', error);
        });
}
